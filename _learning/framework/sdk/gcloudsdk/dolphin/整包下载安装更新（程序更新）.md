# 整包下载安装更新（程序更新）

## 测试1

* Case1

  * icon覆盖

    | version name | bundle id         | icon |
    | ------------ | ----------------- | ---- |
    | 1.0.1.1001   | com.tm.gcloudtest | 1    |
    | 1.0.1.1002   | com.tm.gcloudtest | 2    |

  * 结论

    1.0.1.1001 -> 1.0.1.1002  正常覆盖安装后icon更新成2

* Case2

  * 签名覆盖更新（签名用于换包）

    | version name | bundle id         | signing                |
    | ------------ | ----------------- | ---------------------- |
    | 1.0.1.1002   | com.tm.gcloudtest | android debug          |
    | 1.0.1.1003   | com.tm.gcloudtest | hegu.keystore shipping |

    | version name | bundle id          | signing       |
    | ------------ | ------------------ | ------------- |
    | 1.0.1.1003   | com.tm.gcloudtest  | android debug |
    | 1.0.1.1004   | com.tm.gcloudtest2 | android debug |

  * 结论

    1.0.1.1002 -> 1.0.1.1003 包名一致但签名不一致 不能覆盖安装

    1.0.1.1003 -> 1.0.1.1004 包名不一致但签名一致 可以安装 两个独立包共存

* Case3

  * VersionCode覆盖更新

    | version name | bundle id         | version code |
    | ------------ | ----------------- | ------------ |
    | 1.0.1.1003   | com.tm.gcloudtest | 1            |
    | 1.0.1.1005   | com.tm.gcloudtest | 2            |

  * 结论

    1.0.1.1003 -> 1.0.1.1005 正常流程

    1.0.1.1005 -> 1.0.1.1003  低版本不能覆盖高版本也正常





## 整包更新注意点

* 上传整包时，需要手动指定包的版本号，格式为1.0.1.0，目前与游戏包内android version name保持一致
* 上传整包时，目前测试阶段没必要升级version code，正式流程需要保证version code大版本包自增1